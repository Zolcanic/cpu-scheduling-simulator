(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,i,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8834)}])},8834:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>f});var r=t(4848),l=t(6540);let n=e=>{let{numProcesses:i,setNumProcesses:t,timeQuantum:l,setTimeQuantum:n,onGenerate:s,onRun:a,running:u}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Number of Processes:"}),(0,r.jsx)("input",{type:"number",value:i,onChange:e=>t(parseInt(e.target.value))}),(0,r.jsx)("label",{children:"Time Quantum (RR):"}),(0,r.jsx)("input",{type:"number",value:l,onChange:e=>n(parseInt(e.target.value))}),(0,r.jsx)("button",{onClick:s,children:"Generate Processes"}),(0,r.jsx)("button",{onClick:a,disabled:u,children:"Run Algorithms"})]})};var s=t(7154);let a=e=>{let{result:i,algorithm:t,running:n,currentTime:a,processes:u}=e,d=(0,l.useRef)(null),o=(0,l.useRef)(null),m=["#e6194b","#3cb44b","#ffe119","#0082c8","#f58231","#911eb4","#46f0f0","#f032e6","#d2f53c","#fabebe","#008080","#e6beff","#aa6e28","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000080","#808080"],c=e=>{let i=u.findIndex(i=>i.pid===e);return -1!==i?m[i%m.length]:"#ddd"};return(0,l.useEffect)(()=>{if(o.current&&o.current.destroy(),i&&i.length>0){let e=i.map(e=>e.completionTime),t=i.map(e=>"P".concat(e.pid)),r=d.current.getContext("2d");o.current=new s.Ay(r,{type:"bar",data:{labels:t,datasets:[{label:"Completion Time",data:e,backgroundColor:i.map(e=>c(e.pid)),borderColor:i.map(e=>c(e.pid)),borderWidth:1}]},options:{animation:{duration:n?1e3:0},scales:{x:{title:{display:!0,text:"Process ID"}},y:{title:{display:!0,text:"Completion Time"},max:a?a+5:void 0}}}})}},[i,t,n,a,u]),(0,r.jsx)("canvas",{ref:d})},u={border:"1px solid #ddd",padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2"},d={border:"1px solid #ddd",padding:"8px",textAlign:"left"},o=e=>{let{processes:i,result:t,chartData:l}=e,n=["#e6194b","#3cb44b","#ffe119","#0082c8","#f58231","#911eb4","#46f0f0","#f032e6","#d2f53c","#fabebe","#008080","#e6beff","#aa6e28","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000080","#808080"],s=e=>{let t=i.findIndex(i=>i.pid===e);return -1!==t?n[t%n.length]:"#ddd"},a=e=>{let i=(e=>({r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}))(e);return(.299*i.r+.587*i.g+.114*i.b)/255>.5?"black":"white"},o=t&&0!==t.length?t.reduce((e,i)=>e+(i.waitingTime||0),0)/t.length:0;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:u,children:"Process ID"}),(0,r.jsx)("th",{style:u,children:"Arrival Time"}),(0,r.jsx)("th",{style:u,children:"Burst Time"}),(0,r.jsx)("th",{style:u,children:"Completion Time"}),(0,r.jsx)("th",{style:u,children:"Turnaround Time"}),(0,r.jsx)("th",{style:u,children:"Waiting Time"})]})}),(0,r.jsxs)("tbody",{children:[i.map(e=>{let i=t.find(i=>i.pid===e.pid),l=s(e.pid);return(0,r.jsxs)("tr",{style:{backgroundColor:l,color:a(l)},children:[(0,r.jsx)("td",{style:d,children:e.pid}),(0,r.jsx)("td",{style:d,children:e.arrivalTime}),(0,r.jsx)("td",{style:d,children:e.burstTime}),(0,r.jsx)("td",{style:d,children:(null==i?void 0:i.completionTime)||"-"}),(0,r.jsx)("td",{style:d,children:(null==i?void 0:i.turnaroundTime)||"-"}),(0,r.jsx)("td",{style:d,children:(null==i?void 0:i.waitingTime)||"-"})]},e.pid)}),t&&t.length>0&&(0,r.jsxs)("tr",{style:{backgroundColor:"#f2f2f2",fontWeight:"bold"},children:[(0,r.jsx)("td",{colSpan:"5",style:{...d,textAlign:"right"},children:"Average Waiting Time"}),(0,r.jsxs)("td",{style:{...d,textAlign:"left"},children:[o.toFixed(2)," units"]})]})]})]}),(0,r.jsx)("div",{style:{marginTop:"20px"},children:l&&l.map(e=>(0,r.jsx)("div",{style:{backgroundColor:s(e.pid),width:"".concat(20*e.duration,"px"),height:"30px",margin:"5px",display:"inline-block",color:a(s(e.pid)),textAlign:"center",lineHeight:"30px",borderRadius:"4px"},children:e.pid},e.pid))})]})};var m=t(3596);let c=(e,i)=>{let t=new m.Ay;t.text("CPU Scheduling Results",10,10);let r=20;Object.entries(e).forEach(e=>{let[l,n]=e;t.text(l.toUpperCase(),10,r),r+=10,i.forEach(e=>{let i=n.find(i=>i.pid===e.pid);i&&t.text("P".concat(e.pid,": CT=").concat(i.completionTime,", TT=").concat(i.turnaroundTime,", WT=").concat(i.waitingTime),10,r),r+=10}),r+=10}),t.save("cpu-scheduling-results.pdf")},h=e=>{let{results:i,processes:t,running:l,currentTime:n}=e;return(0,r.jsx)("div",{children:Object.keys(i).length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{c(i,t)},children:"Download PDF"}),Object.entries(i).map(e=>{let[i,s]=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:i.toUpperCase()}),(0,r.jsx)(o,{processes:t,result:s}),(0,r.jsx)(a,{result:s,algorithm:i,running:l,currentTime:n,processes:t})]},i)})]})})},p=e=>{let i=[];for(let t=0;t<e;t++)i.push({pid:t+1,arrivalTime:Math.floor(10*Math.random()),burstTime:Math.floor(15*Math.random())+1});return i.sort((e,i)=>e.arrivalTime-i.arrivalTime)};function f(){let[e,i]=(0,l.useState)([]),[t,s]=(0,l.useState)(5),[a,u]=(0,l.useState)(2),[d,o]=(0,l.useState)({fifo:[]}),[m,c]=(0,l.useState)(!1),[f,b]=(0,l.useState)(0),v=(0,l.useRef)(null),[j,y]=(0,l.useState)("fifo"),C=()=>{let{value:e,done:i}=v.current.next();i?(c(!1),b(0),v.current=null):(o({[j]:e.result}),b(e.currentTime))};return!function(e,i){let t=(0,l.useRef)();(0,l.useEffect)(()=>{t.current=e},[e]),(0,l.useEffect)(()=>{{let e=setInterval(function(){t.current()},1e3);return()=>clearInterval(e)}},[1e3])}(()=>{m&&C()},1e3),(0,r.jsxs)("div",{style:T,children:[(0,r.jsx)("h1",{style:g,children:"CPU Scheduling Simulator"}),(0,r.jsxs)("select",{value:j,onChange:e=>y(e.target.value),style:x,children:[(0,r.jsx)("option",{value:"fifo",children:"FIFO"}),(0,r.jsx)("option",{value:"sjf",children:"SJF"}),(0,r.jsx)("option",{value:"stcf",children:"STCF"}),(0,r.jsx)("option",{value:"rr",children:"RR"}),(0,r.jsx)("option",{value:"mlfq",children:"MLFQ"})]}),(0,r.jsx)(n,{numProcesses:t,setNumProcesses:s,timeQuantum:a,setTimeQuantum:u,onGenerate:()=>{i(p(t))},onRun:()=>{let i;switch(c(!0),j){case"fifo":default:i=function*(e){let i=[],t=0;for(let r of[...e].sort((e,i)=>e.arrivalTime-i.arrivalTime)){r.arrivalTime>t&&(t=r.arrivalTime);let e=t+r.burstTime,l=e-r.arrivalTime,n=l-r.burstTime;i.push({pid:r.pid,completionTime:e,turnaroundTime:l,waitingTime:n}),t=e,yield{result:[...i],currentTime:t}}yield{result:[...i],currentTime:null}}([...e]);break;case"sjf":i=function*(e){let i=[],t=0,r=[],l=[...e].sort((e,i)=>e.arrivalTime-i.arrivalTime),n=0;for(;n<l.length||r.length>0;){for(;n<l.length&&l[n].arrivalTime<=t;)r.push(l[n]),n++;if(r.length>0){r.sort((e,i)=>e.burstTime-i.burstTime);let e=r.shift(),l=t+e.burstTime,n=l-e.arrivalTime,s=n-e.burstTime;i.push({pid:e.pid,completionTime:l,turnaroundTime:n,waitingTime:s}),t=l,yield{result:[...i],currentTime:t}}else t=l[n].arrivalTime}yield{result:[...i],currentTime:null}}([...e]);break;case"stcf":i=function*(e){let i=[],t=0,r=[],l=[...e].sort((e,i)=>e.arrivalTime-i.arrivalTime),n=0,s=l.map(e=>({...e,remainingTime:e.burstTime,originalBurstTime:e.burstTime}));for(;n<s.length||r.length>0;){for(;n<s.length&&s[n].arrivalTime<=t;)r.push(s[n]),n++;if(r.length>0){r.sort((e,i)=>e.remainingTime-i.remainingTime);let e=r[0],l=n<s.length?s[n].arrivalTime:1/0,a=Math.min(e.remainingTime,l-t);if(e.remainingTime-=a,t+=a,0===e.remainingTime){let l=t,n=l-e.arrivalTime,s=n-e.originalBurstTime;i.push({pid:e.pid,completionTime:l,turnaroundTime:n,waitingTime:s}),r.shift()}yield{result:[...i],currentTime:t}}else t=s[n].arrivalTime}yield{result:[...i],currentTime:null}}([...e]);break;case"rr":i=function*(e,i){let t=[],r=0,l=[],n=[...e].sort((e,i)=>e.arrivalTime-i.arrivalTime),s=0,a=n.map(e=>({...e,remainingTime:e.burstTime,originalBurstTime:e.burstTime}));for(;s<a.length||l.length>0;){for(;s<a.length&&a[s].arrivalTime<=r;)l.push(a[s]),s++;if(l.length>0){let e=l.shift();s<a.length&&a[s].arrivalTime;let n=Math.min(e.remainingTime,i);for(e.remainingTime-=n,r+=n;s<a.length&&a[s].arrivalTime<=r;)l.push(a[s]),s++;if(0===e.remainingTime){let i=r,l=i-e.arrivalTime,n=l-e.originalBurstTime;t.push({pid:e.pid,completionTime:i,turnaroundTime:l,waitingTime:n})}else l.push(e);yield{result:[...t],currentTime:r}}else r=a[s].arrivalTime}yield{result:[...t],currentTime:null}}([...e],a);break;case"mlfq":i=function*(e){let i=[],t=0,r=[{timeQuantum:4,processes:[]},{timeQuantum:8,processes:[]},{timeQuantum:1/0,processes:[]}],l=[...e].sort((e,i)=>e.arrivalTime-i.arrivalTime),n=0,s=l.map(e=>({...e,remainingTime:e.burstTime,originalBurstTime:e.burstTime}));for(;n<s.length||r.some(e=>e.processes.length>0);){for(;n<s.length&&s[n].arrivalTime<=t;)r[0].processes.push(s[n]),n++;let e=!1;for(let l=0;l<r.length;l++)if(r[l].processes.length>0){let a=r[l].processes.shift(),u=n<s.length?s[n].arrivalTime:1/0,d=Math.min(a.remainingTime,r[l].timeQuantum,u-t);for(a.remainingTime-=d,t+=d;n<s.length&&s[n].arrivalTime<=t;)r[0].processes.push(s[n]),n++;if(0===a.remainingTime){let e=t,r=e-a.arrivalTime,l=r-a.originalBurstTime;i.push({pid:a.pid,completionTime:e,turnaroundTime:r,waitingTime:l})}else l<r.length-1?r[l+1].processes.push(a):r[l].processes.push(a);e=!0,yield{result:[...i],currentTime:t};break}e||(t=s[n].arrivalTime)}yield{result:[...i],currentTime:null}}([...e])}v.current=i,C()},running:m}),e.length>0&&(0,r.jsx)(h,{results:d,processes:e,running:m,currentTime:f})]})}let T={marginTop:"0px",padding:"0px",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",boxSizing:"border-box"},g={margin:"10px 0"},x={padding:"8px",marginBottom:"20px"}}},e=>{var i=i=>e(e.s=i);e.O(0,[201,673,744,636,593,792],()=>i(7276)),_N_E=e.O()}]);